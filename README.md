## Immediate TODO

- [x] jobs are still being added to blacklisted gpus
- [x] fix screen attaching not showing anything
- [x] merge stdout and stderr
- [x] remove spaces from command combinations
- [x] freeze git states when adding jobs
- [x] if -r in command it bugs out thinking its repeat
- [x] runtime doesnt update if gpu is blacklisted
- [x] Classify failed jobs
- [x] automatically detect wandb runs
- [x] Webhooks for starting, completed, and failed jobs (for discord)
- [x] make webhooks prettier
- [x] if a job doesnt have wandb after 5 minutes, stop pinging it
- [x] clean up git tags that are unused
- [x] make sure the job started webhook waits
- [x] multi user support
- [x] cli: prompt yes or no before removing, killing, or adding
- [x] cli: put wandb url in nexus status at cli
- [x] cli: put runtime and time started on same line
- [x] cli: filter history with command regex
- [x] cli: in history put failed and completed together, then I shuold be able to see which  and which completed
- [x] sometimes a job doesnt die, should probably SIGKILL
- [x] its starting jobs on non available gpus
- [x] actually get gpu processes
- [x] cli: ensure cli and api version align
- [x] make all functions pure
- [x] enlarge failed job logs
- [x] Automatically check for updates
- [x] Look for wandb in longer intervals in the scheduler, then if not found after a while update original message
- [x] sqlite
- [x] systemd
- [x] general refactor
- [x] better exception handling
- [x] comprehensive tests
- [x] cli: nx should also work
- [x] use PID to monitor and control jobs
- [x] regex filtering directly on api
- [x] working installation and user setup
- [x] pre job script
- [x] make user pass env
- [x] let user pass webhook information (e.g. discord)
- [x] let user pass env for job (or jobrc or something)
- [x] figure out why git tag removal fails some times
- [x] refactor, move more things away from cli and to the api
- [x] remove discord id from job
- [x] add branch information on job
- [x] improve notification system
- [x] make get job logs async
- [ ] multi gpu jobs
- [ ] priority jobs
- [ ] dependent jobs (a after b is done)
- [ ] nexus run endpoint
- [ ] better exceptions for users
- [ ] better secrets management
- [ ] add time based cache to gpu call
- [ ] job execution isolation
- [ ] add tests for persistence
- [ ] whatsapp notification support
- [ ] phone call notification support
- [ ] git branch mode
- [ ] easy way to show logs for running jobs on discord
- [ ] multi node and auth
- [ ] documentation
- [ ] cli: command templates
- [ ] cli: follow logs with -f
- [ ] cli: More job details when printing job stuff, especially when removing or killing
